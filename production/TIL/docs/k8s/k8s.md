# 쿠버네티스 

## 마스터 노드와 워커 노드

- 노드란 거의 물리적 서버와 일치하는 개념이라고 보면됨 

## 마스터 노드 
- 전체적인 제어를 담당
- **마스터노드에서 컨테이너를 실행하지는 않고, 워커 노드에서 실행되는 컨테이너를 관리하는 역할**
- 그러니 당연히 도커엔진 같은 컨테이너 엔진도 사용하지 않는다 

## 워커 노드 
- 실제 동작을 담당(실제 서버에 해당하는 부분) 
- 컨테이너가 실제로 동작하는 서버

`이렇게 마스터 노드와 워커 노드로 구성된 일군의 쿠버네티스 시스템을 **클러스터** 라고 한다.`
- 클러스터는 사람이 개입하지 않아도 , 
  - **마스터 노드에 설정된 내용에 따라 워커 노드가 관리되며 자율적으로 동작**

### kubectl 
- 마스터 노드를 설정하는 관리자 컴퓨터에는 kubectl을 설치한다.
- kubectl을 설치해야 **마스터 노드에 로그인해 초기 설정을 진행하거나 추후 조정 가능** 

### 컨트롤 플레인(제어판)과 kube-let

- 마스터 노드는 **컨트롤 플레인을 통해** -> 워커 노드를 관리

##### 마스터 노드 측 컨트롤 플레인

- kube-apiserver : 외부와 통신하는 프로세스, kubectl로부터 명령을 전달받아 실행함
- kube-controller-manager : 컨트롤러를 통합 관리, 실행 ,클러스터 상태를 관리하는 컨트롤러
- kube-scheduler : 파드를 워커 노드에 할당, 새로운 컨테이너가 생성될 때 어느 워커 노드에 할당할지 결정
- cloud-controller-manager : 클라우드 서비스와 연동해 서비스를 생성 ,클라우드 서비스와 통신하는 컨트롤러
- etcd : 클러스터 내의 모든 정보를 저장하는 데이터베이스

##### 워커 노드의 구성
- kube-let : , 마스터 노드로부터 할당받은 파드를 실행하고 상태를 마스터 노드에 보고
- kube-proxy: 파드의 네트워크를 관리, 파드 간의 통신을 담당


## 쿠버네티스의 목표 
- 바람직한 상태를 유지하는 것 
- 쿠버네티스는 **원하는 상태를 정의하고, 그 상태를 유지하도록 동작**

